<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Korean Population Story</title>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="style.css">
</head>

<body>

  <div class="text-block">
    <div class="title type-target" id="title"></div>

    <div class="phrase-line type-target" id="p1"></div>
    <div class="phrase-line type-target" id="p2"></div>
    <div class="phrase-line type-target" id="p3"></div>
  </div>

  <button class="enter-btn" id="enter"><span id="enter-text">Enter</span></button>

  <script>
    function typeWriter(el, text, speed, callback) {
      let i = 0;
      function type() {
        if (i < text.length) {
          el.innerHTML += text.charAt(i);
          i++;
          setTimeout(type, speed);
        } else if (callback) callback();
      }
      type();
    }

    const titleText = "Korean Population Story";
    const line1 = "Understanding a";
    const line2 = "crisis that quietly";
    const line3 = "reshapes the future.";

    const titleEl = document.getElementById("title");
    const p1 = document.getElementById("p1");
    const p2 = document.getElementById("p2");
    const p3 = document.getElementById("p3");
    const btn = document.getElementById("enter");

    document.addEventListener("DOMContentLoaded", () => {
      typeWriter(titleEl, titleText, 40, () => {
        setTimeout(() => {
          typeWriter(p1, line1, 25, () => {
            setTimeout(() => {
              typeWriter(p2, line2, 25, () => {
                setTimeout(() => {
                  typeWriter(p3, line3, 25, () => {
                    setTimeout(() => btn.classList.add("visible"), 250);
                  });
                }, 250);
              });
            }, 250);
          });
        }, 250);
      });
    });

    btn.addEventListener("click", () => {
      document.getElementById("enter-text").style.opacity = "0";
      btn.classList.add("expanding");
      document.body.classList.add("to-red");
      setTimeout(() => {
        document.body.classList.add("fade-white");
      }, 1600);
      setTimeout(() => {
        window.location.href = "page2.html";
      }, 2600);
    });
  </script>

</body>
</html>
